
<!-- generic menu fragment -->

<div  th:fragment="menuFragment" class="btn-group dropend">
    <button type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" style="max-width: 60px">
        <img  th:src="@{/images/menu.png}" class="mw-100 h-auto" alt="Menu"/>
    </button>
    <ul class="dropdown-menu" th:if="${#authorization.expression('isAuthenticated()')}">
        <li><a th:href="@{/}" class="dropdown-item">Home</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a th:href="@{/ingredients/new}" class="dropdown-item">New Ingredient</a></li>
        <li><a th:href="@{/ingredients/all}" class="dropdown-item">List Ingredients</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a th:href="@{/recipes/new}" class="dropdown-item">Create Recipe</a></li>
        <li><a th:href="@{/recipes/import}" class="dropdown-item">Import Recipe</a></li>
        <li><a th:href="@{/recipes/all}" class="dropdown-item">My Recipes</a></li>
        <li><hr class="dropdown-divider"></li>
        <li th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">
            <a th:href="@{/users/all}" class="dropdown-item">See Users</a>
        </li>
        <li><a th:href="@{/users/details}" class="dropdown-item">Profile</a></li>
        <li>
            <form action="#" th:action="@{/logout}" method="post">
                <button type="submit" class="dropdown-item">Logout</button>
            </form>
        </li>
    </ul>
    <ul class="dropdown-menu" th:if="${#authorization.expression('!isAuthenticated()')}">
        <li><a th:href="@{/}" class="dropdown-item">Home</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a th:href="@{/login}" class="dropdown-item">Sign in</a></li>
        <li><a th:href="@{/users/new}" class="dropdown-item">Sign up</a></li>
    </ul>
</div>